# æ•…éšœæ’é™¤æŒ‡å—

## å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ğŸ”´ ç™»å½•ç›¸å…³é—®é¢˜

#### é—®é¢˜ 1ï¼šäºŒç»´ç ä¸æ˜¾ç¤º

**ç—‡çŠ¶ï¼š**
- è®¿é—® http://localhost:3000/login é¡µé¢ç©ºç™½
- æˆ–æ˜¾ç¤º"æ­£åœ¨åˆå§‹åŒ–..."ä½†ä¸€ç›´ä¸å‡ºç°äºŒç»´ç 

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **Bot æœªå¯åŠ¨æˆ–å¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç»ˆç«¯æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯
   # æŸ¥æ‰¾ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ä¿¡æ¯
   ```

   è§£å†³æ–¹æ¡ˆï¼š
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š`node --version` (éœ€è¦ >= 18)
   - é‡æ–°å®‰è£…ä¾èµ–ï¼š`rm -rf node_modules && npm install`
   - æ£€æŸ¥ `.env` æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®

2. **ç«¯å£è¢«å ç”¨**
   ```bash
   # Windows
   netstat -ano | findstr :3000

   # Linux/Mac
   lsof -i :3000
   ```

   è§£å†³æ–¹æ¡ˆï¼š
   - ä¿®æ”¹ `.env` ä¸­çš„ `WEB_PORT` ä¸ºå…¶ä»–ç«¯å£
   - æˆ–åœæ­¢å ç”¨ 3000 ç«¯å£çš„ç¨‹åº

3. **Puppet åˆå§‹åŒ–å¤±è´¥**

   ç»ˆç«¯æ—¥å¿—ä¼šæ˜¾ç¤ºç±»ä¼¼é”™è¯¯ï¼š
   ```
   Error: Cannot find module 'wechaty-puppet-wechat'
   ```

   è§£å†³æ–¹æ¡ˆï¼š
   ```bash
   npm install wechaty-puppet-wechat
   ```

---

#### é—®é¢˜ 2ï¼šæ‰«ç åæ— æ³•ç™»å½•

**ç—‡çŠ¶ï¼š**
- æ‰‹æœºæ‰«ç æˆåŠŸ
- ä½† Bot ä¸€ç›´æ˜¾ç¤º"ç­‰å¾…ç¡®è®¤"
- æˆ–æ˜¾ç¤ºç™»å½•å¤±è´¥

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **ç½‘ç»œé—®é¢˜**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®š
   - å°è¯•ä½¿ç”¨ VPN æˆ–æ›´æ¢ç½‘ç»œç¯å¢ƒ
   - æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢ Wechaty è¿æ¥

2. **å¾®ä¿¡è´¦å·é™åˆ¶**
   - æ–°æ³¨å†Œçš„å¾®ä¿¡è´¦å·å¯èƒ½æ— æ³•ä½¿ç”¨
   - ä¼ä¸šå¾®ä¿¡è´¦å·ä¸æ”¯æŒ
   - è´¦å·å¯èƒ½å·²è¢«å¾®ä¿¡é™åˆ¶ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·

   è§£å†³æ–¹æ¡ˆï¼š
   - ä½¿ç”¨æ³¨å†Œæ—¶é—´è¾ƒé•¿çš„ä¸ªäººå¾®ä¿¡è´¦å·
   - ç¡®ä¿è´¦å·çŠ¶æ€æ­£å¸¸ï¼ˆèƒ½æ­£å¸¸ç™»å½•æ‰‹æœºå¾®ä¿¡ï¼‰

3. **Puppet ç‰ˆæœ¬é—®é¢˜**
   - Web åè®®ä¸ç¨³å®š

   è§£å†³æ–¹æ¡ˆï¼š
   - è€ƒè™‘å‡çº§åˆ°ä»˜è´¹ Puppetï¼ˆè§ READMEï¼‰
   - æˆ–å¤šæ¬¡å°è¯•é‡æ–°æ‰«ç 

---

#### é—®é¢˜ 3ï¼šé¢‘ç¹æ‰çº¿æˆ– Session è¿‡æœŸ

**ç—‡çŠ¶ï¼š**
- Bot ç»å¸¸è‡ªåŠ¨ç™»å‡º
- æ¯æ¬¡é‡å¯éƒ½éœ€è¦é‡æ–°æ‰«ç 
- æ—¥å¿—æ˜¾ç¤º "Bot logged out"

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **Session æ–‡ä»¶æŸå**
   ```bash
   # åˆ é™¤æ—§çš„ session æ–‡ä»¶
   rm data/wechaty.memory-card.json

   # é‡æ–°å¯åŠ¨å¹¶ç™»å½•
   npm run dev
   ```

2. **åœ¨å…¶ä»–è®¾å¤‡ç™»å½•**
   - å¦‚æœåœ¨æ‰‹æœºæˆ–ç”µè„‘å¾®ä¿¡å®¢æˆ·ç«¯ç™»å½•ï¼ŒBot ä¼šè¢«è¸¢ä¸‹çº¿
   - è§£å†³æ–¹æ¡ˆï¼šBot è¿è¡ŒæœŸé—´ä¸è¦åœ¨å…¶ä»–è®¾å¤‡ç™»å½•

3. **å…è´¹ Puppet ä¸ç¨³å®š**
   - Web åè®®æœ¬èº«å°±ä¸ç¨³å®š
   - è§£å†³æ–¹æ¡ˆï¼šå‡çº§åˆ°ä»˜è´¹ Puppetï¼ˆPadLocal æˆ– Puppet Serviceï¼‰

4. **IP é¢‘ç¹å˜åŒ–**
   - ä½¿ç”¨çš„ç½‘ç»œ IP ä¸ç¨³å®š
   - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨å›ºå®š IP çš„ç½‘ç»œç¯å¢ƒ

---

### ğŸ”´ æ¶ˆæ¯æ”¶é›†é—®é¢˜

#### é—®é¢˜ 4ï¼šæ”¶ä¸åˆ°ç¾¤èŠæ¶ˆæ¯

**ç—‡çŠ¶ï¼š**
- Bot å·²ç™»å½•æˆåŠŸ
- ä½†ç¾¤èŠæ¶ˆæ¯æ²¡æœ‰è¢«æ”¶é›†
- æ•°æ®åº“ä¸ºç©º

**æ’æŸ¥æ­¥éª¤ï¼š**

1. **æ£€æŸ¥ Bot æ˜¯å¦åœ¨ç¾¤èŠä¸­**
   ```bash
   # æŸ¥çœ‹æ—¥å¿—ä¸­æ˜¯å¦æœ‰ "Room join" ç›¸å…³ä¿¡æ¯
   # æˆ–åœ¨ç¾¤èŠä¸­ @Bot è´¦å·ï¼Œçœ‹æ˜¯å¦æœ‰å“åº”
   ```

2. **æ£€æŸ¥ç›‘æ§é…ç½®**
   - ç¼–è¾‘ `.env`ï¼š
   ```env
   # ç¡®ä¿è¿™ä¸€é¡¹ä¸ºç©ºï¼ˆç›‘å¬æ‰€æœ‰ç¾¤èŠï¼‰
   MONITORED_ROOMS=

   # æˆ–è€…æ˜ç¡®æŒ‡å®šè¦ç›‘å¬çš„ç¾¤èŠ ID
   MONITORED_ROOMS=room-id-1,room-id-2
   ```

3. **æ£€æŸ¥æ—¥å¿—çº§åˆ«**
   - ä¸´æ—¶æé«˜æ—¥å¿—çº§åˆ«ä»¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
   ```env
   LOG_LEVEL=debug
   ```
   - é‡å¯åæŸ¥çœ‹è¯¦ç»†æ—¥å¿—

4. **éªŒè¯æ¶ˆæ¯å¤„ç†**
   - åœ¨ç¾¤èŠå‘é€æ¶ˆæ¯åï¼Œç«‹å³æŸ¥çœ‹ç»ˆç«¯
   - åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æ—¥å¿—ï¼š
   ```
   [INFO]: Message saved: [ç¾¤å] æ˜µç§°: æ¶ˆæ¯å†…å®¹
   ```

5. **æ£€æŸ¥æ•°æ®åº“**
   ```bash
   sqlite3 data/reynard.db "SELECT COUNT(*) FROM messages;"
   ```
   - å¦‚æœè¿”å› 0ï¼Œè¯´æ˜æ¶ˆæ¯æœªè¢«ä¿å­˜

---

#### é—®é¢˜ 5ï¼šæŸäº›æ¶ˆæ¯ç±»å‹æ— æ³•æ”¶é›†

**ç—‡çŠ¶ï¼š**
- æ–‡æœ¬æ¶ˆæ¯å¯ä»¥æ”¶é›†
- ä½†å›¾ç‰‡ã€è§†é¢‘ç­‰æ— æ³•æ”¶é›†

**è§£å†³æ–¹æ¡ˆï¼š**
- è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œå½“å‰ç‰ˆæœ¬åªè®°å½•æ¶ˆæ¯ç±»å‹æ ‡è®°ï¼ˆå¦‚ "[å›¾ç‰‡]"ï¼‰
- å¦‚éœ€ä¸‹è½½åª’ä½“æ–‡ä»¶ï¼Œéœ€è¦æ‰©å±• `messageHandler.ts`

---

#### é—®é¢˜ 6ï¼šé€Ÿç‡é™åˆ¶å¤ªä¸¥æ ¼ï¼Œæ¶ˆæ¯è¢«ä¸¢å¼ƒ

**ç—‡çŠ¶ï¼š**
- æ—¥å¿—ä¸­é¢‘ç¹å‡ºç° "Rate limit exceeded"
- å¾ˆå¤šæ¶ˆæ¯æœªè¢«ä¿å­˜

**è§£å†³æ–¹æ¡ˆï¼š**
```env
# è°ƒæ•´ .env ä¸­çš„é™æµé…ç½®
RATE_LIMIT_PER_MINUTE=120  # å¢åŠ åˆ°æ¯åˆ†é’Ÿ 120 æ¡
MESSAGE_DELAY_MIN=500      # å‡å°‘å»¶è¿Ÿ
MESSAGE_DELAY_MAX=1000
```

**æ³¨æ„ï¼š** è°ƒæ•´åå¯èƒ½å¢åŠ è¢«å°å·é£é™©ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚

---

### ğŸ”´ Webhook é—®é¢˜

#### é—®é¢˜ 7ï¼šWebhook ä¸å‘é€

**ç—‡çŠ¶ï¼š**
- æ¶ˆæ¯æ­£å¸¸æ”¶é›†åˆ°æ•°æ®åº“
- ä½† Webhook ç«¯ç‚¹æ²¡æœ‰æ”¶åˆ°æ•°æ®

**æ’æŸ¥æ­¥éª¤ï¼š**

1. **æ£€æŸ¥ Webhook é…ç½®**
   ```env
   WEBHOOK_ENABLED=true
   WEBHOOK_URL=https://your-webhook-url.com/endpoint
   ```

2. **éªŒè¯ URL å¯è®¿é—®æ€§**
   ```bash
   curl -X POST https://your-webhook-url.com/endpoint \
     -H "Content-Type: application/json" \
     -d '{"test":"data"}'
   ```

3. **æŸ¥çœ‹æ—¥å¿—**
   - è®¾ç½® `LOG_LEVEL=debug`
   - æŸ¥æ‰¾ Webhook ç›¸å…³çš„é”™è¯¯ä¿¡æ¯

4. **æµ‹è¯• Webhook**
   - ä½¿ç”¨ webhook.site è·å–ä¸´æ—¶æµ‹è¯• URL
   - é…ç½®åˆ° `.env` ä¸­æµ‹è¯•

---

#### é—®é¢˜ 8ï¼šWebhook å‘é€å¤±è´¥æˆ–è¶…æ—¶

**ç—‡çŠ¶ï¼š**
- æ—¥å¿—æ˜¾ç¤º "Webhook failed" æˆ– "timeout"

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **ç›®æ ‡æœåŠ¡å™¨å“åº”æ…¢**
   - å¢åŠ è¶…æ—¶æ—¶é—´ï¼ˆéœ€ä¿®æ”¹ `src/webhook/sender.ts`ï¼‰

2. **ç½‘ç»œé—®é¢˜**
   - æ£€æŸ¥æœåŠ¡å™¨èƒ½å¦è®¿é—®ç›®æ ‡ URL
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

3. **è¯·æ±‚è¢«æ‹’ç»**
   - æ£€æŸ¥ç›®æ ‡æœåŠ¡å™¨çš„è®¿é—®æ§åˆ¶
   - éªŒè¯ API Key æˆ–è®¤è¯ä¿¡æ¯

---

### ğŸ”´ Docker ç›¸å…³é—®é¢˜

#### é—®é¢˜ 9ï¼šDocker å®¹å™¨å¯åŠ¨å¤±è´¥

**ç—‡çŠ¶ï¼š**
```bash
docker-compose up -d
# å®¹å™¨ç«‹å³é€€å‡º
```

**æ’æŸ¥æ­¥éª¤ï¼š**

1. **æŸ¥çœ‹å®¹å™¨æ—¥å¿—**
   ```bash
   docker-compose logs reynard-bot
   ```

2. **æ£€æŸ¥ .env æ–‡ä»¶**
   - ç¡®ä¿ `.env` æ–‡ä»¶å­˜åœ¨
   - æ£€æŸ¥æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆæ²¡æœ‰å¤šä½™ç©ºæ ¼æˆ–å¼•å·ï¼‰

3. **æ£€æŸ¥ç«¯å£å ç”¨**
   ```bash
   docker-compose ps
   ```
   - å¦‚æœ 3000 ç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹ `docker-compose.yml`ï¼š
   ```yaml
   ports:
     - "3001:3000"  # æ˜ å°„åˆ°æœ¬åœ° 3001 ç«¯å£
   ```

4. **é‡æ–°æ„å»ºé•œåƒ**
   ```bash
   docker-compose build --no-cache
   docker-compose up -d
   ```

---

#### é—®é¢˜ 10ï¼šDocker å®¹å™¨å†…æ— æ³•è®¿é—®ç½‘ç»œ

**ç—‡çŠ¶ï¼š**
- å®¹å™¨å¯åŠ¨æˆåŠŸ
- ä½†æ— æ³•è¿æ¥å¾®ä¿¡æœåŠ¡å™¨
- æˆ– Webhook æ— æ³•å‘é€

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ£€æŸ¥ Docker ç½‘ç»œé…ç½®**
   ```bash
   docker network ls
   docker network inspect reynard_default
   ```

2. **ä½¿ç”¨ host ç½‘ç»œæ¨¡å¼**
   - ä¿®æ”¹ `docker-compose.yml`ï¼š
   ```yaml
   network_mode: "host"
   ```

---

#### é—®é¢˜ 11ï¼šæ•°æ®æŒä¹…åŒ–ä¸å·¥ä½œ

**ç—‡çŠ¶ï¼š**
- å®¹å™¨é‡å¯åæ•°æ®ä¸¢å¤±
- Session éœ€è¦é‡æ–°ç™»å½•

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ£€æŸ¥å·æŒ‚è½½**
   ```bash
   docker-compose down
   ls -la data/  # ç¡®è®¤ç›®å½•å­˜åœ¨
   docker-compose up -d
   ```

2. **ä¿®å¤æƒé™é—®é¢˜**
   ```bash
   # Linux/Mac
   chmod -R 777 data/ logs/

   # Windows ä¸€èˆ¬æ²¡æœ‰æƒé™é—®é¢˜
   ```

---

### ğŸ”´ æ•°æ®åº“é—®é¢˜

#### é—®é¢˜ 12ï¼šæ•°æ®åº“æ–‡ä»¶æŸå

**ç—‡çŠ¶ï¼š**
- é”™è¯¯ä¿¡æ¯ï¼š"database disk image is malformed"

**è§£å†³æ–¹æ¡ˆï¼š**

1. **å¤‡ä»½å¹¶ä¿®å¤**
   ```bash
   # å¤‡ä»½
   cp data/reynard.db data/reynard.db.backup

   # å°è¯•ä¿®å¤
   sqlite3 data/reynard.db "PRAGMA integrity_check;"

   # å¦‚æœä¿®å¤å¤±è´¥ï¼Œå¯¼å‡ºæ•°æ®
   sqlite3 data/reynard.db .dump > backup.sql

   # åˆ é™¤æ—§æ•°æ®åº“ï¼Œé‡æ–°åˆ›å»º
   rm data/reynard.db
   # é‡å¯ Botï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°æ•°æ®åº“

   # å¯¼å…¥æ—§æ•°æ®
   sqlite3 data/reynard.db < backup.sql
   ```

---

#### é—®é¢˜ 13ï¼šæ•°æ®åº“æŸ¥è¯¢æ…¢

**ç—‡çŠ¶ï¼š**
- æŸ¥è¯¢å†å²æ¶ˆæ¯å¾ˆæ…¢
- æ•°æ®åº“æ–‡ä»¶å¾ˆå¤§ï¼ˆ> 1GBï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ‰§è¡Œæ•°æ®åº“ä¼˜åŒ–**
   ```bash
   sqlite3 data/reynard.db "VACUUM;"
   sqlite3 data/reynard.db "ANALYZE;"
   ```

2. **æ¸…ç†æ—§æ•°æ®**
   ```bash
   # åˆ é™¤ 30 å¤©å‰çš„æ¶ˆæ¯
   sqlite3 data/reynard.db "DELETE FROM messages WHERE timestamp < strftime('%s', 'now', '-30 days') * 1000;"
   ```

3. **å®šæœŸå¤‡ä»½å’Œæ¸…ç†**
   - åˆ›å»ºå®šæ—¶ä»»åŠ¡å®šæœŸå¤‡ä»½å’Œæ¸…ç†æ•°æ®åº“

---

### ğŸ”´ æ€§èƒ½é—®é¢˜

#### é—®é¢˜ 14ï¼šå†…å­˜å ç”¨è¿‡é«˜

**ç—‡çŠ¶ï¼š**
- Bot è¿è¡Œä¸€æ®µæ—¶é—´åå†…å­˜æŒç»­å¢é•¿
- ç³»ç»Ÿå˜æ…¢

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ£€æŸ¥å†…å­˜ä½¿ç”¨**
   ```bash
   # Docker
   docker stats reynard-bot

   # ç›´æ¥è¿è¡Œ
   ps aux | grep node
   ```

2. **é‡å¯ Bot**
   - çŸ­æœŸè§£å†³æ–¹æ¡ˆï¼šå®šæœŸé‡å¯
   - é•¿æœŸæ–¹æ¡ˆï¼šæ£€æŸ¥ä»£ç æ˜¯å¦æœ‰å†…å­˜æ³„æ¼

3. **é™åˆ¶ Docker å®¹å™¨èµ„æº**
   - åœ¨ `docker-compose.yml` ä¸­å·²é…ç½®èµ„æºé™åˆ¶

---

#### é—®é¢˜ 15ï¼šCPU å ç”¨è¿‡é«˜

**ç—‡çŠ¶ï¼š**
- Bot è¿è¡Œæ—¶ CPU æŒç»­é«˜è´Ÿè½½

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **æ¶ˆæ¯å¤„ç†è¿‡äºé¢‘ç¹**
   - å¢åŠ  `MESSAGE_DELAY_MIN` å’Œ `MESSAGE_DELAY_MAX`
   - å‡å°‘ `RATE_LIMIT_PER_MINUTE`

2. **æ—¥å¿—çº§åˆ«è¿‡é«˜**
   ```env
   LOG_LEVEL=info  # ä» debug æ”¹ä¸º info
   ```

3. **Webhook å‘é€è¿‡äºé¢‘ç¹**
   - å¢åŠ æ‰¹é‡å‘é€é—´éš”

---

## è°ƒè¯•æŠ€å·§

### å¯ç”¨è¯¦ç»†æ—¥å¿—

```env
LOG_LEVEL=debug
```

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# ç›´æ¥è¿è¡Œ
npm run dev

# Docker
docker-compose logs -f reynard-bot

# åªçœ‹æœ€è¿‘ 100 è¡Œ
docker-compose logs --tail=100 reynard-bot
```

### æ£€æŸ¥æ•°æ®åº“çŠ¶æ€

```bash
# è¿›å…¥ SQLite
sqlite3 data/reynard.db

# æŸ¥çœ‹è¡¨ç»“æ„
.schema messages

# æŸ¥çœ‹æ¶ˆæ¯ç»Ÿè®¡
SELECT COUNT(*) as total FROM messages;
SELECT room_name, COUNT(*) as count FROM messages GROUP BY room_name;

# æŸ¥çœ‹æœ€è¿‘æ¶ˆæ¯
SELECT * FROM messages ORDER BY timestamp DESC LIMIT 10;

# é€€å‡º
.exit
```

### æµ‹è¯• API ç«¯ç‚¹

```bash
# æµ‹è¯•çŠ¶æ€
curl http://localhost:3000/api/status | jq

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health | jq

# æµ‹è¯•äºŒç»´ç ï¼ˆå¦‚æœæœªç™»å½•ï¼‰
curl http://localhost:3000/api/qrcode | jq
```

---

## è·å–å¸®åŠ©

å¦‚æœä»¥ä¸Šæ–¹æ¡ˆéƒ½æ— æ³•è§£å†³é—®é¢˜ï¼š

1. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**
   - æ—¥å¿—æ–‡ä»¶ä½äº `logs/` ç›®å½•
   - æŸ¥æ‰¾æœ€æ–°çš„é”™è¯¯ä¿¡æ¯

2. **æ£€æŸ¥ GitHub Issues**
   - Wechaty: https://github.com/wechaty/wechaty/issues
   - Puppet: https://github.com/wechaty/puppet-wechat/issues

3. **æŠ¥å‘Šé—®é¢˜æ—¶æä¾›**
   - æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
   - Node.js ç‰ˆæœ¬
   - è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
   - å¤ç°æ­¥éª¤

---

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘
npm run dev                    # å¯åŠ¨å¼€å‘æ¨¡å¼
npm run build                  # ç¼–è¯‘ TypeScript
npm start                      # å¯åŠ¨ç”Ÿäº§æ¨¡å¼

# Docker
docker-compose up -d           # åå°å¯åŠ¨
docker-compose down            # åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker-compose restart         # é‡å¯
docker-compose logs -f         # æŸ¥çœ‹æ—¥å¿—
docker-compose build --no-cache # é‡æ–°æ„å»º

# æ•°æ®åº“
sqlite3 data/reynard.db        # è¿›å…¥æ•°æ®åº“
sqlite3 data/reynard.db "SELECT COUNT(*) FROM messages;"  # å¿«é€ŸæŸ¥è¯¢

# æ¸…ç†
rm -rf node_modules            # åˆ é™¤ä¾èµ–
rm -rf dist                    # åˆ é™¤ç¼–è¯‘è¾“å‡º
rm data/wechaty.memory-card.json  # åˆ é™¤ sessionï¼ˆé‡æ–°ç™»å½•ï¼‰
```
